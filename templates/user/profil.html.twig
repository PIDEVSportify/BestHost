{% extends 'base.html.twig' %}
{% block title %}Profil{% endblock title %}


{% block body %}

    <div class="container" style="margin-top: 5%">
        <div class="row justify-content-center">
            <div class="col-md-4"></div>
            <div class="col-md-4 text-center">
                <img src="{{ app.user.Avatar }}" class="rounded" width="150px" height="150px">
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row">

            <div class="col-md-3"></div>
            <div class="col-md-6">
                <hr>
                <ul class="nav nav-tabs   nav-fill" id="myTab" role="tablist">
                    <li class="nav-item  ">
                        <a class="nav-link active" id="settings-tab" data-toggle="tab" href="#settings" role="tab"
                           aria-controls="settings" aria-selected="true" style="color: #0f0f0f">Paramètres</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link "   id="security-tab" data-toggle="tab" href="#security" role="tab"
                           aria-controls="security" aria-selected="false" style="color: #0f0f0f ">Sécurité</a>
                    </li>

                </ul>

                    {% for message in app.flashes('success') %}
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    {% endfor %}


                <div class="tab-content" id="myTabContent" style="margin-top: 5%">
                    <div class="tab-pane fade show active" id="settings" role="tabpanel" aria-labelledby="settings-tab">

                    {{ form_start(form) }}
                        <div class="col-md-12 form-group p_star ">
                            {{ form_errors(form.first_name) }}
                            {{ form_label(form.last_name,'Nom') }}
                            {{ form_widget(form.first_name,{ 'attr':{  'class':'form-control' }}) }}
                        </div>
                        <div class="col-md-12 form-group p_star ">
                            {{ form_errors(form.last_name) }}
                            {{ form_label(form.last_name,'Prenom') }}
                            {{ form_widget(form.last_name,{ 'attr':{  'class':'form-control' }}) }}
                        </div>
                        <div class="col-md-12 form-group p_star ">
                            {{ form_errors(form.email) }}
                            {{ form_label(form.last_name,'Email') }}
                            {{ form_widget(form.email,{ 'attr':{'placeholder':'Email', 'class':'form-control' ,'readonly':true}}) }}
                        </div>
                      <div class="col-md-12 form-group p_star text-center ">
                         {{ form_widget(form.submit,{'attr':{'class':'btn_3'},'label':'Mettre à jour'}) }}
                         {{ form_end(form) }}
                      </div>
                    </div>



                <div class="tab-pane fade" id="security" role="tabpanel" aria-labelledby="security-tab">
                    {{ form_start(password_form) }}
                    <div class="col-md-12 form-group p_star" >
                        {{ form_errors(password_form.password) }}
                        {{ form_widget(password_form.password,{'attr':{'class':'form-control','placeholder':'Nouveau mot de passe'}}) }}
                    </div>
                    <div class="col-md-12 form-group p_star" >
                        {{ form_errors(password_form.confirm_password) }}
                        {{ form_widget(password_form.confirm_password,{'attr':{'class':'form-control','placeholder':'Confirmer mot de passe'}}) }}
                    </div>
                    <div class="col-md-12 form-group p_star" style="text-align: center">
                        <button class="btn_3">Mettre à jour</button>
                    </div>
                    {{ form_end(password_form) }}

                </div>
                </div>
            </div>
            <div class="col-md-3"></div>
        </div>



    </div>




{% endblock body %}
{% block scripts %}
    {{ parent() }}
    <script>
        $('#myList a').on('click', function (e) {
            e.preventDefault()
            $(this).tab('show')
        })
    </script>

    <script>
        $('#myTab a').on('click', function (e) {
            e.preventDefault()
            $(this).tab('show')
        })
    </script>
{% endblock scripts %}